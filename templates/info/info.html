{% extends 'base.html' %}
{% block content %}
<div class="d-flex" id="wrapper">
    <!-- Sidebar-->
    <div class="border-end bg-white" id="sidebar-wrapper">
        <div class="sidebar-heading border-bottom bg-light" style="font-weight:bold" ><a href="/" style="color: red; text-decoration : none;">CODEING</a></div>
        <div class="list-group list-group-flush">
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/notice/notice">공지사항</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/info/info"style="background:blue; font-weight:bold; color:white">정보 게시판</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/qna/qna">질문 게시판</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/free/free">자유게시판</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/study/study">스터디 모집</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/project/project">프로젝트 모집</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="/wiki/wiki" id="codewiki">코드잉위키</a>
        </div>
    </div>
    <!-- Page content wrapper-->
    <div id="page-content-wrapper">
        <!-- Top navigation-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <div class="container-fluid">
                <button class="btn btn-primary" id="sidebarToggle">메뉴</button>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mt-2 mt-lg-0">
                        <form action="/search" method="GET">
                                        <div class="row">
                                            <div style="float: right;" class="sear">
                                                <div class="sear">
                                                    <div class="sear" style="margin-top: 10px;">
                                                        <select style="width: 6em;" class="custom-select custom-select-md" name="type">
                                                            <option value="all">전체</option>
                                                            <option value="title_content">제목+내용</option>
                                                            <option value="title">제목</option>
                                                            <option value="content">내용</option>
                                                            <option value="writer">작성자</option>
                                                        </select>
                                                    </div>
                                                    <div class="sear" style="margin-top: 10px;">
                                                        <input type="text" name="q" value="{{ q }}" class="form-control form-control-md"
                                                            style="width: 15em;" placeholder="검색어를 입력해주세요.">
                                                    </div>
                                                    <div class="sear">
                                                         <button class="btn btn-md btn-outline-dark" type="submit">검색</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                        <li class="nav-item active"><a class="nav-link" href="/">홈으로</a></li>
                        <li class="nav-item"><a class="nav-link" href="/link">링크</a></li>
                        {% if request.session.sessionid == None %}
                        <li class="nav-item"><a class="nav-link" href="/login">로그인</a></li>
                        <li class="nav-item"><a class="nav-link" href="/register">회원가입</a></li>
                        {% else %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">정보</a>
                            <div class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#!">회원 정보</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#!">로그아웃</a>
                            </div>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page content-->
        <div class="container-fluid">


<!--                        Make sure to keep all page content within the-->
<!--                        <code>#page-content-wrapper</code>-->
<!--                        . The top navbar is optional, and just for demonstration. Just create an element with the-->
<!--                        <code>#sidebarToggle</code>-->
<!--                        ID which will toggle the menu when clicked.-->

            </p>
            <nav>
                <div class="container">
                <table class="table">
                        <thead class="thead-light">
                        <tr class="thead"> <th>번호</th><th>제목</th><th>글쓴이</th><th>날짜</th></tr>
                        </thead>
                        <tbody>
                        {% for o in objs %}
                        {% if o.board == '정보' %}
                        <tr class="text-center">
                            <td scope="row">
                                <span>{{ o.board_id }}</span>
                            </td>
                            <td>
                                <a href="/info/info" >{{o.board_title}}</a>
                            </td>
                            <td>
                                {{o.user_id}}
                            </td>
                            <td>
                                {{o.board_date | date:'Y-m-d H:i'}}
                            </td>
                        </tr>
                        {% endif %}
                        {% endfor %}
                        </tbody>
                    </table>
                    {% if request.session.sessionid == None %}
                    {% else %}
                    <a href="post" class="btn btn-primary">
                        글쓰기
                    </a>
                     {% endif %}
                    </div>
                <ul class="pagination justify-content-center">
<!--                            이전페이지-->
                    {% if objs.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ objs.previous_page_number }}">
                            이전
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">
                            이전
                        </a>
                    </li>
                    {% endif %}
<!--                            페이지리스트-->
                    {% for page_number in objs.paginator.page_range %}
                    {% if page_number >= objs.number|add:-5 and page_number <= objs.number|add:5 %}
                        {% if page_number == objs.number %}
                        <li class="page-item active" aria-current="page">
                            <a class="page-link" href="?page={{ page_number }}">
                                {{ page_number }}
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_number }}">
                                {{ page_number }}
                            </a>
                        </li>
                        {% endif %}
                    {% endif %}
                    {% endfor %}
<!--                            다음페이지-->
                    {% if objs.has_next %}
                    <li class="page_item">
                        <a class="page-link" href="?page={{ objs.next_page_number }}">
                            다음
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">
                            다음
                        </a>
                    </li>
                    {% endif %}

                </ul>
            </nav>
        </div>
    </div>
</div>
{% endblock %}